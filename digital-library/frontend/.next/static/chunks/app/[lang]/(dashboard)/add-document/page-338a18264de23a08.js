(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{7990:function(e,t,l){Promise.resolve().then(l.bind(l,2229))},2229:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return C}});var s=l(7437),a=l(2265),n=l(6691),r=l.n(n),i={src:"/_next/static/media/Frame 492.b30e8003.svg",height:48,width:48,blurWidth:0,blurHeight:0},c=e=>{let{step:t}=e;return(0,s.jsx)("div",{className:"w-full h-hull border-r md:pr-10 pr-2",children:(0,s.jsx)("div",{className:"w-full flex flex-col gap-9",children:[{id:1,text:"Settings",description:"Document Settings"},{id:2,text:"Setup",description:"Document Related"},{id:3,text:"Upload",description:"Upload your documents"},{id:4,text:"Publish",description:"Publish your document "}].map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[t>e.id?(0,s.jsx)(r(),{src:i,alt:"",className:"h-10 w-10"}):(0,s.jsx)("div",{className:" ".concat(e.id==t?"bg-[#1D242D]":"bg-[#3D4C5E] "," h-10 border w-10 rounded-full p-1 flex items-center justify-center text-white"),children:e.id}),(0,s.jsxs)("div",{className:"sm:block hidden",children:[(0,s.jsx)("p",{className:"font-semibold",children:e.text}),(0,s.jsx)("p",{className:"text-sm",children:e.description})]})]}))})})},o=l(8994),d=l(3525),m=e=>{let{step:t,changeHandler:l}=e,{step1:n,dispatch:r}=(0,o.b)(),[i,c]=(0,a.useState)(n.categorie),[m,x]=(0,a.useState)(n.type);return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Settings"}),(0,s.jsx)("p",{className:"text-xs",children:"Document"}),(0,s.jsx)("p",{className:"text-sm mt-5",children:"Science Category :"}),(0,s.jsx)("div",{className:"flex gap-5  overflow-auto lg:w-full border sm:w-96 w-[230px]",children:[{name:"health",id:1},{name:"Mines",id:2},{name:"Ict",id:3},{name:"Agro Food Sciences",id:4},{name:"Energie",id:5},{name:"Social Xciences",id:6},{name:"Data Analytics",id:7}].map((e,t)=>(0,s.jsx)("div",{onClick:()=>{i==e.name?c(""):c(e.name)},className:"h-24 w-24 flex items-center justify-center  ".concat(e.name!=i?"border-black border":"border-mainColor border-3"," rounded-xl text-xs text-center cursor-pointer object-cover px-3"),children:e.name},t))}),(0,s.jsx)("p",{className:"text-sm mt-9 mb-5",children:"Document type :"}),(0,s.jsx)("div",{className:"flex gap-5 items-center overflow-auto w-full border",children:[{name:"Research",id:1},{name:"Article",id:2},{name:"Thesis",id:3},{name:"Records",id:4},{name:"Other",id:5}].map((e,t)=>(0,s.jsx)("div",{onClick:()=>{m==e.name?x(""):x(e.name)},className:"h-24 w-24 flex items-center justify-center  ".concat(e.name!=m?"border-black border":"border-mainColor border-3"," rounded-xl text-xs text-center cursor-pointer"),children:e.name},e.name))}),(0,s.jsx)("button",{disabled:""==i||""==m,onClick:()=>{r((0,d.K2)({categorie:i,type:m})),l("add")},className:"bg-mainColor ".concat(""==m||""==i?"opacity-60":"opacity-100"," px-4 py-2 font-bold text-white text-sm flex justify-center items-center rounded-full mt-10"),children:"Continue"})]})},x=l(1865),u=e=>{let{type:t,icon:l,title:a,name:n,id:i,placeholder:c,props:o,value:d,disabled:m,img:x,isValid:u,min:p,max:f,change:h}=e;return(0,s.jsxs)("div",{className:"mt-3",children:[h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:"text-sm font-bold text-gray-700 mb-2",htmlFor:i,children:a||""}),(0,s.jsxs)("div",{className:"relative w-full ",children:[l?(0,s.jsx)("div",{className:"absolute mr-10 text-gray-400 inset-y-0  left-0 flex items-center pl-3 pointer-events-none",children:l}):"",!l&&x?(0,s.jsx)(r(),{className:"absolute h-[80%] top-[10%] left-[3%] mr-10 ",src:x,alt:""}):"",(0,s.jsx)("input",{name:n,type:t,...o,id:i,disabled:m,value:d,className:" ".concat(u?"border-red-600 bg-red-100":"boder-[#E9ECEF] bg-[#E9ECEF] "," placeholder:text-xs md:text-sm text-xs md:pl-8 pl-2 sm:py-4 py-3  focus:outline-none focus:ring-1  focus:ring-emerald-500 text-gray-900 rounded-xl block w-full  p-2.5  appearance-none	"),placeholder:c,min:p||"",max:f||"",onChange:h,autoFocus:!1})]})]}),!h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:"text-sm font-bold text-gray-700 mb-2",htmlFor:i,children:a||""}),(0,s.jsxs)("div",{className:"relative w-full ",children:[l?(0,s.jsx)("div",{className:"absolute mr-10 text-gray-400 inset-y-0  left-0 flex items-center pl-3 pointer-events-none",children:l}):"",!l&&x?(0,s.jsx)(r(),{className:"absolute h-[80%] top-[10%] left-[3%] mr-10 ",src:x,alt:""}):"",(0,s.jsx)("input",{name:n,type:t,...o,id:i,disabled:m,value:d,className:" ".concat(u?"border-red-600 bg-red-100":"boder-[#E9ECEF] bg-[#E9ECEF] "," md:pl-8 pl-2  sm:py-4 py-3 text-base focus:outline-none focus:ring-1 sm:text-sm focus:ring-emerald-500 text-gray-900 rounded-xl block w-full  p-2.5 placeholder:text-sm sm:placeholder:text-lg appearance-none	"),placeholder:c,min:p||"",max:f||""})]})]})]})},p=e=>{let{type:t,icon:l,title:a,name:n,id:i,placeholder:c,props:o,value:d,disabled:m,img:x,isValid:u,min:p,max:f,change:h}=e;return(0,s.jsxs)("div",{className:"mt-3",children:[h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:"text-sm font-bold text-gray-700 mb-2",htmlFor:i,children:a||""}),(0,s.jsxs)("div",{className:"relative w-full ",children:[l?(0,s.jsx)("div",{className:"absolute mr-10 text-gray-400 inset-y-0  left-0 flex items-center pl-3 pointer-events-none",children:l}):"",!l&&x?(0,s.jsx)(r(),{className:"absolute h-[80%] top-[10%] left-[3%] mr-10 ",src:x,alt:""}):"",(0,s.jsx)("input",{name:n,type:t,...o,id:i,disabled:m,value:d,className:" ".concat(u?"border-red-600 bg-red-100":"boder-[#E9ECEF] bg-[#E9ECEF] "," placeholder:text-xs md:text-sm text-xs pl-12 sm:py-4 py-3  focus:outline-none focus:ring-1  focus:ring-emerald-500 text-gray-900 rounded-xl block w-full  p-2.5  appearance-none	"),placeholder:c,min:p||"",max:f||"",onChange:h})]})]}),!h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:"text-sm font-bold text-gray-700 mb-2",htmlFor:i,children:a||""}),(0,s.jsx)("textarea",{name:"",id:i,className:"bg-[#E9ECEF] rounded-xl border w-full md:pl-8 pl-2",...o})]})]})},f=l(5925);let h=["svg","jpg","jpeg","png"];var b=e=>{let{step:t,changeHandler:l}=e,{step2:n,dispatch:i}=(0,o.b)(),[c,m]=(0,a.useState)(n.coverImage),{register:b,handleSubmit:j,watch:g,setValue:y,formState:{isValid:v,errors:N}}=(0,x.cI)({mode:"onChange"}),w=g("author"),C=g("isbn"),k=g("name"),E=g("description"),D=async e=>{var t,l,s;let a=null===(l=e.target)||void 0===l?void 0:null===(t=l.files[0])||void 0===t?void 0:t.name.split(".").pop();h.includes(a.toLocaleLowerCase())||f.ZP.error("bad file"),null==e||null===(s=e.target)||void 0===s||s.files,h.includes(a.toLocaleLowerCase())?(console.log(e.target.files,"target"),m(e.target.files[0]),e.target.value=null):m(void 0)},S=async e=>{};return(0,a.useEffect)(()=>{y("author",n.author),y("description",n.description),y("isbn",n.ibsn),y("name",n.name)},[]),(0,s.jsxs)("form",{onSubmit:j(S),className:"w-full",children:[(0,s.jsx)("h1",{children:"Document Setup"}),(0,s.jsx)("p",{className:"text-xs",children:"Document Related"}),(0,s.jsx)("div",{className:"2xl:w-6/12 lg:9/12 sm:w-11/12 w-full",children:(0,s.jsx)(u,{title:"Enter document name *",placeholder:"Ex : My thesis",id:"cat",name:"cat",type:"text",props:b("name",{required:!0})})}),(0,s.jsx)("div",{className:"2xl:w-6/12 lg:9/12 sm:w-11/12 w-full",children:(0,s.jsx)(u,{title:"Author",placeholder:"John Doe",id:"name",name:"name",type:"text",props:b("author",{required:!0})})}),(0,s.jsx)("div",{className:"2xl:w-6/12 lg:9/12 sm:w-11/12 w-full",children:(0,s.jsx)(u,{title:"ISBN",placeholder:"Ex : 978-2-07-061275-8.",id:"ISBN",name:"ISBN",type:"text",props:b("isbn",{required:!0})})}),(0,s.jsx)("div",{className:"2xl:w-6/12 lg:9/12 sm:w-11/12 w-full mt-5",children:(0,s.jsx)(p,{title:"description",id:"description",props:b("description",{required:!0})})}),(0,s.jsxs)("div",{className:"w-fit mt-5",children:[(0,s.jsx)("input",{type:"file",accept:".svg,.png,.jpg,.jpeg",id:"file1",className:"hidden",onChange:D}),(0,s.jsx)("p",{className:"font-bold my-3",children:"Cover page"}),c&&(0,s.jsx)("div",{className:"h-48 w-36 ",children:(0,s.jsx)(r(),{src:URL.createObjectURL(c),width:30,height:30,alt:"",className:"h-full w-full object-contain"})}),(0,s.jsx)("label",{htmlFor:"file1",className:"cursor-pointer  bg-mainColor  px-3 py-2 font-bold text-white text-sm flex justify-center items-center rounded-full mt-10",children:"Select picture"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-5 items-center",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{l("back")},className:"px-4 py-2 font-bold text-black text-sm flex justify-center items-center rounded-full mt-10",children:"back"}),(0,s.jsx)("button",{type:"submit",disabled:!w||!E||!k||!C||!c,onClick:()=>{l("add"),i((0,d.Zg)({author:w,name:k,description:E,coverImage:c,ibsn:C,url:c?URL.createObjectURL(c):""}))},className:"bg-mainColor ".concat(w&&E&&k&&C&&c?"opacity-100":"opacity-60"," px-4 py-2 font-bold text-white text-sm flex justify-center items-center rounded-full mt-10"),children:"Continue"})]})]})},j={src:"/_next/static/media/Frame 512.babfffe7.svg",height:64,width:64,blurWidth:0,blurHeight:0};let g=["pdf","docx","csv","xlsx","txt"];var y=e=>{let{step:t,changeHandler:l}=e,{step3:n,dispatch:i}=(0,o.b)(),[c,m]=(0,a.useState)(n.file),{register:u,handleSubmit:p,formState:{isValid:h,errors:b}}=(0,x.cI)({mode:"onChange"}),y=async e=>{var t,l,s;let a=null===(l=e.target)||void 0===l?void 0:null===(t=l.files[0])||void 0===t?void 0:t.name.split(".").pop();g.includes(a.toLocaleLowerCase())||f.ZP.error("bad file"),null==e||null===(s=e.target)||void 0===s||s.files,g.includes(a.toLocaleLowerCase())?(console.log(e.target.files,"target"),m(e.target.files[0]),e.target.value=null):m(void 0)},v=async e=>{};return(0,s.jsxs)("form",{onSubmit:p(v),className:"w-full",children:[(0,s.jsx)("h1",{children:"Upload "}),(0,s.jsx)("p",{className:"text-xs",children:"Upload your documents"}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("input",{type:"file",accept:".csv,.pdf,.xlsx,.docx,.txt",id:"file1",className:"hidden",onChange:y}),(0,s.jsx)("label",{htmlFor:"file1",className:"cursor-pointer   px-3 py-2 font-bold text-white text-sm flex justify-center items-center  mt-10",children:(0,s.jsxs)("div",{className:"w-full text-[#3E585D] justify-center border-dashed h-96 rounded-xl border border-collapse border-mainColor flex flex-col items-center",children:[(0,s.jsx)(r(),{src:j,alt:""}),(0,s.jsx)("p",{className:"font-bold ",children:"Upload your document"}),(0,s.jsx)("p",{children:"Upload a pdf, docx, xlsx, csv, txt file "})]})}),c&&(0,s.jsxs)("div",{className:"h-24 w-full border flex items-center justify-between px-5 mt-5",children:[(0,s.jsx)("span",{className:"w-6/12",children:null==c?void 0:c.name}),(0,s.jsx)("span",{onClick:()=>m(void 0),className:"cursor-pointer font-bold text-xl",children:"x"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-5 items-center",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{l("back")},className:"px-4 py-2 font-bold text-black text-sm flex justify-center items-center rounded-full mt-10",children:"back"}),(0,s.jsx)("button",{type:"submit",disabled:!c,onClick:()=>{l("add"),i((0,d.eX)({file:c,urlFile:c?URL.createObjectURL(c):""}))},className:"bg-mainColor ".concat(c?"opacity-100":"opacity-60"," px-4 py-2 font-bold text-white text-sm flex justify-center items-center rounded-full mt-10"),children:"Continue"})]})]})},v=l(4033),N=e=>{let{step:t,changeHandler:l}=e,{step4:n,dispatch:r}=(0,o.b)(),{push:i}=(0,v.useRouter)(),[c,m]=(0,a.useState)(n);return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{children:"Settings"}),(0,s.jsx)("p",{className:"text-xs",children:"Document"}),(0,s.jsx)("p",{className:"text-sm mt-5",children:"Science Category :"}),(0,s.jsx)("div",{className:"flex gap-5 items-center overflow-auto w-full border",children:[{name:"private",id:1},{name:"publick",id:2}].map(e=>(0,s.jsx)("div",{onClick:()=>{c==e.name?m(""):m(e.name)},className:"h-24 w-24 flex items-center justify-center  ".concat(e.name!=c?"border-black border":"border-mainColor border-3"," rounded-xl text-xs text-center cursor-pointer"),children:e.name},e.name))}),(0,s.jsxs)("div",{className:"flex justify-end gap-5 items-center",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{l("back")},className:"px-4 py-2 font-bold text-black text-sm flex justify-center items-center rounded-full mt-10",children:"back"}),(0,s.jsx)("button",{disabled:""==c,onClick:()=>{r((0,d.je)(c)),i("/")},className:"bg-mainColor ".concat(""==c?"opacity-60":"opacity-100"," px-4 py-2 font-bold text-white text-sm flex justify-center items-center rounded-full mt-10"),children:"Done"})]})]})},w=e=>{let{step:t,changeHandler:l}=e;return(0,s.jsxs)("div",{className:"w-full sm:pl-10 pl-3 lg:pb-36 md:pb-24 pb-10",children:[1==t&&(0,s.jsx)(m,{step:t,changeHandler:l}),2==t&&(0,s.jsx)(b,{step:t,changeHandler:l}),3==t&&(0,s.jsx)(y,{step:t,changeHandler:l}),4==t&&(0,s.jsx)(N,{step:t,changeHandler:l})]})},C=()=>{let[e,t]=(0,a.useState)(1),l=(0,a.useRef)(null);return(0,a.useEffect)(()=>{l.current&&l.current.scrollIntoView(),console.log(e)},[e]),(0,s.jsxs)("div",{className:"w-full px-5 py-5",children:[(0,s.jsx)("div",{ref:l}),(0,s.jsx)("h1",{children:"Upload Document"}),(0,s.jsx)("p",{children:"Upload Articles, Resarch Works, Documentation, Thesis ..."}),(0,s.jsxs)("div",{className:"w-full mt-10 flex h-full",children:[(0,s.jsx)("div",{className:"w-fit h-full ",children:(0,s.jsx)(c,{step:e})}),(0,s.jsx)("div",{className:"flex-grow border-l",children:(0,s.jsx)(w,{step:e,changeHandler:e=>{"add"==e?t(e=>e+1):t(e=>e-1)}})})]})]})}},8994:function(e,t,l){"use strict";l.d(t,{b:function(){return a}});var s=l(3046);let a=()=>{let e=(0,s.v9)(e=>e.AddDocument.step1),t=(0,s.v9)(e=>e.AddDocument.step2),l=(0,s.v9)(e=>e.AddDocument.step3),a=(0,s.v9)(e=>e.AddDocument.step4),n=(0,s.v9)(e=>e.AddDocument.id),r=(0,s.v9)(e=>e.AddDocument.arrayDocs);return{step1:e,dispatch:(0,s.I0)(),step2:t,step3:l,step4:a,arrayDoc:r,idDoc:n}}},3525:function(e,t,l){"use strict";l.d(t,{K2:function(){return a},Zg:function(){return n},dU:function(){return c},eX:function(){return r},je:function(){return i}});let s=(0,l(9730).oM)({name:"auth",initialState:{step1:{categorie:"",type:""},step2:{author:"",name:"",description:"",coverImage:void 0,url:"",ibsn:""},step3:{file:void 0,urlFile:""},step4:"",arrayDocs:[],id:""},reducers:{step1Handler:(e,t)=>{e.step1=t.payload},step2Handler:(e,t)=>{e.step2=t.payload},step3Handler:(e,t)=>{e.step3=t.payload,console.log(t.payload,"payload.............."),console.log("111111111111",URL.createObjectURL(e.step2.coverImage))},step4Handler:(e,t)=>{e.arrayDocs=[...e.arrayDocs,{...e.step1,...e.step2,confidentiality:t.payload,...e.step3,id:(e.arrayDocs.length+1).toString()}],e.step1={categorie:"",type:""},e.step2={author:"",name:"",description:"",coverImage:void 0,ibsn:"",url:""},e.step3={file:void 0,urlFile:""},e.step4=""},idHandler:(e,t)=>{e.id=t.payload,console.log(t.payload,"id++++++++++")}}}),{step1Handler:a,step2Handler:n,step3Handler:r,step4Handler:i,idHandler:c}=s.actions;t.ZP=s.reducer}},function(e){e.O(0,[771,730,691,535,971,938,744],function(){return e(e.s=7990)}),_N_E=e.O()}]);